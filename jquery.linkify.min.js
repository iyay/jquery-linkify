function linkify(a,b,c,d,e){return relNoFollow="",e&&(relNoFollow=' rel="nofollow"'),a=a.replace(/((http|https|ftp)\:\/\/|\bw{3}\.)[a-z0-9\-\.]+\.[a-z]{2,3}(:[a-z0-9]*)?\/?([a-z\u00C0-\u017F0-9\-\._\?\,\'\/\\\+&amp;%\$#\=~])*/gi,function(a){var b;if(a.match(/jpg|jpeg|gif|png/))return'<a href="'+a+"\" data-whitebox class='image'><img src=\""+a+"\" width='200'/></a>";if(0==a.toLowerCase().indexOf("www.")){if(!c)return a;b="http://"+a}else b=a;return'<a href="'+b+'" target="'+d+'"'+relNoFollow+">"+a+"</a>"}),b&&(a=a.replace(/\B#(\w+)/g,"<a href="+b("$1")+' target="'+d+'"'+relNoFollow+">#$1</a>")),a}!function(a){a.fn.linkify=function(b){return this.each(function(){var d,c=a(this),e=!0,f="_self",g=!0;b&&("function"==typeof b?d=b:("function"==typeof b.hashtagUrlBuilder&&(d=b.hashtagUrlBuilder),"boolean"==typeof b.includeW3&&(e=b.includeW3),"string"==typeof b.target&&(f=b.target),"boolean"==typeof b.noFollow&&(g=b.noFollow))),c.html(a.map(c.contents(),function(a){return 3==a.nodeType?linkify(a.data,d,e,f,g):a.outerHTML}).join(""))})}}(jQuery);